<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compte d'Exploitation & Seuil de Rentabilité</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Compte d'Exploitation & Seuil de Rentabilité</h1>
        
        <div class="tabs">
            <button class="tab-btn active" data-tab="exploitation">Compte d'Exploitation</button>
            <button class="tab-btn" data-tab="seuil">Seuil de Rentabilité</button>
            <button class="tab-btn" data-tab="elasticite">Élasticité-Prix</button>
            <button class="tab-btn" data-tab="scenario">Analyse de Scénario</button>
        </div>
        
        <div class="tab-content active" id="exploitation">
            <h2>Compte d'Exploitation</h2>
            <div class="input-section">
                <div class="input-group">
                    <h3>Données de base</h3>
                    <div class="input-row">
                        <label for="ca">Chiffre d'affaires (CA) :</label>
                        <input type="number" id="ca" placeholder="Ex: 100000" value="100000">
                    </div>
                    <div class="input-row">
                        <label for="cv">Charges variables (CV) :</label>
                        <input type="number" id="cv" placeholder="Ex: 60000" value="60000">
                    </div>
                    <div class="input-row">
                        <label for="cf">Coûts fixes (CF) :</label>
                        <input type="number" id="cf" placeholder="Ex: 30000" value="30000">
                    </div>
                    <div class="input-row">
                        <label for="pvu">Prix de vente unitaire (PVU) :</label>
                        <input type="number" id="pvu" placeholder="Ex: 100" value="100">
                    </div>
                    <div class="input-row">
                        <label for="quantite">Quantité vendue :</label>
                        <input type="number" id="quantite" placeholder="Ex: 1000" value="1000">
                    </div>
                    <div class="input-row">
                        <label for="taux-tva">Taux de TVA (%) :</label>
                        <input type="number" id="taux-tva" placeholder="Ex: 20" value="20">
                    </div>
                    <div class="input-row">
                        <button id="calculer-ce" class="btn">Calculer</button>
                    </div>
                </div>
                
                <div class="output-group">
                    <h3>Résultats</h3>
                    <table class="result-table">
                        <tr>
                            <th>Compte d'exploitation</th>
                            <th>Montant</th>
                            <th>%</th>
                        </tr>
                        <tr>
                            <td>Chiffre d'affaires (net)</td>
                            <td id="ca-resultat">-</td>
                            <td>100%</td>
                        </tr>
                        <tr>
                            <td>- Charges variables</td>
                            <td id="cv-resultat">-</td>
                            <td id="cv-pourcentage">-</td>
                        </tr>
                        <tr class="highlight">
                            <td>= Marge sur coûts variables</td>
                            <td id="mscv-resultat">-</td>
                            <td id="mscv-pourcentage">-</td>
                        </tr>
                        <tr>
                            <td>- Coûts fixes</td>
                            <td id="cf-resultat">-</td>
                            <td id="cf-pourcentage">-</td>
                        </tr>
                        <tr class="highlight">
                            <td>= Résultat</td>
                            <td id="resultat">-</td>
                            <td id="resultat-pourcentage">-</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="seuil">
            <h2>Seuil de Rentabilité</h2>
            <div class="input-section">
                <div class="sr-container">
                    <div class="sr-inputs">
                        <h3>Calcul du seuil de rentabilité</h3>
                        <div class="result-box">
                            <p>Seuil de rentabilité :</p>
                            <p id="sr-resultat" class="result-value">-</p>
                        </div>
                        <div class="result-box">
                            <p>Point mort (jours) :</p>
                            <p id="point-mort" class="result-value">-</p>
                        </div>
                        <div class="result-box">
                            <p>Taux de marge sur CV :</p>
                            <p id="taux-mscv" class="result-value">-</p>
                        </div>
                    </div>

                    <div class="sr-graph">
                        <h3>Représentation graphique</h3>
                        <div class="chart-container">
                            <canvas id="seuil-graph"></canvas>
                        </div>
                        <div class="chart-controls">
                            <button id="zoom-in" class="chart-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                    <line x1="11" y1="8" x2="11" y2="14"></line>
                                    <line x1="8" y1="11" x2="14" y2="11"></line>
                                </svg>
                                Zoom +
                            </button>
                            <button id="zoom-out" class="chart-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                    <line x1="8" y1="11" x2="14" y2="11"></line>
                                </svg>
                                Zoom -
                            </button>
                            <button id="reset-zoom" class="chart-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0-18 0"></path>
                                    <path d="M17 12H7"></path>
                                    <path d="m9 10-2 2 2 2"></path>
                                    <path d="m15 10 2 2-2 2"></path>
                                </svg>
                                Réinitialiser
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="elasticite">
            <h2>Analyse de l'Élasticité-Prix</h2>
            <div class="input-section">
                <div class="input-group">
                    <h3>Paramètres de l'élasticité</h3>
                    <div class="input-row">
                        <label for="variation-prix">Variation de prix (%) :</label>
                        <input type="number" id="variation-prix" placeholder="Ex: -10" value="-10">
                    </div>
                    <div class="input-row">
                        <label for="elasticite">Coefficient d'élasticité :</label>
                        <input type="number" id="elasticite" placeholder="Ex: 1.5" value="1.5" step="0.1">
                    </div>
                    <div class="input-row">
                        <button id="calculer-elasticite" class="btn">Calculer l'impact</button>
                    </div>
                </div>
                
                <div class="output-group">
                    <h3>Impact sur les ventes</h3>
                    <table class="result-table">
                        <tr>
                            <th></th>
                            <th>Avant</th>
                            <th>Après</th>
                            <th>Variation</th>
                        </tr>
                        <tr>
                            <td>Prix unitaire</td>
                            <td id="prix-avant">-</td>
                            <td id="prix-apres">-</td>
                            <td id="prix-variation">-</td>
                        </tr>
                        <tr>
                            <td>Quantité vendue</td>
                            <td id="quantite-avant">-</td>
                            <td id="quantite-apres">-</td>
                            <td id="quantite-variation">-</td>
                        </tr>
                        <tr>
                            <td>Chiffre d'affaires</td>
                            <td id="ca-avant">-</td>
                            <td id="ca-apres">-</td>
                            <td id="ca-variation">-</td>
                        </tr>
                        <tr>
                            <td>Marge sur CV</td>
                            <td id="marge-avant">-</td>
                            <td id="marge-apres">-</td>
                            <td id="marge-variation">-</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="scenario">
            <h2>Nouveau Compte de Résultat</h2>
            <div class="input-section">
                <div class="output-group wide">
                    <h3>Comparaison des comptes de résultat</h3>
                    <table class="result-table">
                        <tr>
                            <th>Compte d'exploitation</th>
                            <th>Situation initiale</th>
                            <th>Après modification</th>
                            <th>Variation</th>
                        </tr>
                        <tr>
                            <td>Chiffre d'affaires (net)</td>
                            <td id="scenario-ca-initial">-</td>
                            <td id="scenario-ca-modifie">-</td>
                            <td id="scenario-ca-variation">-</td>
                        </tr>
                        <tr>
                            <td>- Charges variables</td>
                            <td id="scenario-cv-initial">-</td>
                            <td id="scenario-cv-modifie">-</td>
                            <td id="scenario-cv-variation">-</td>
                        </tr>
                        <tr class="highlight">
                            <td>= Marge sur coûts variables</td>
                            <td id="scenario-mscv-initial">-</td>
                            <td id="scenario-mscv-modifie">-</td>
                            <td id="scenario-mscv-variation">-</td>
                        </tr>
                        <tr>
                            <td>- Coûts fixes</td>
                            <td id="scenario-cf-initial">-</td>
                            <td id="scenario-cf-modifie">-</td>
                            <td id="scenario-cf-variation">-</td>
                        </tr>
                        <tr class="highlight">
                            <td>= Résultat</td>
                            <td id="scenario-resultat-initial">-</td>
                            <td id="scenario-resultat-modifie">-</td>
                            <td id="scenario-resultat-variation">-</td>
                        </tr>
                    </table>
                </div>
                
                <div class="conclusion-box">
                    <h3>Conclusion</h3>
                    <p id="scenario-conclusion">Complétez les données et cliquez sur "Calculer" pour voir l'analyse.</p>
                    <div class="decision-indicator">
                        <p>Décision recommandée :</p>
                        <p id="decision" class="decision-value">-</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom"></script>
    <script src="script.js"></script>
</body>
</html>